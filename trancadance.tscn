[gd_scene load_steps=24 format=3 uid="uid://cfqtudfiwp0dw"]

[ext_resource type="Script" uid="uid://bs8nmn7mjqaek" path="res://examples/bge/start_passthrough.gd" id="1_fxfes"]
[ext_resource type="Material" uid="uid://dvo75cymypytd" path="res://examples/tank_game_3d/green.tres" id="2_yos5m"]
[ext_resource type="Script" uid="uid://crm1vgeaih5wn" path="res://examples/xr_sequencer/sequencer.gd" id="3_584sh"]
[ext_resource type="FontFile" uid="uid://rvjbc8pu44du" path="res://fonts/Hyperspace.otf" id="4_27qf2"]
[ext_resource type="PackedScene" uid="uid://dm1qa5btl0821" path="res://examples/xr_sequencer/pad_a.tscn" id="5_shi5d"]
[ext_resource type="Material" uid="uid://bwy778jyvpj15" path="res://examples/tank_game_3d/seq_mat.tres" id="6_kspo4"]
[ext_resource type="Script" uid="uid://drtgdi28p6w7b" path="res://addons/hand_pose_detector/hand_pose_detector.gd" id="7_7yujg"]
[ext_resource type="Resource" uid="uid://ckjd0xa2a240p" path="res://addons/hand_pose_detector/poses/standard_pose_set.tres" id="8_dcj50"]
[ext_resource type="PackedScene" uid="uid://cjcehqrfoxav3" path="res://addons/hand_pose_detector/hands/LeftHandHumanoid.gltf" id="9_wjjwd"]
[ext_resource type="Material" uid="uid://r4hqqldkh2wy" path="res://examples/bge/trans.tres" id="10_5or6k"]
[ext_resource type="PackedScene" uid="uid://dabmoo0spa6vg" path="res://addons/hand_pose_detector/hands/RightHandHumanoid.gltf" id="11_slhc5"]
[ext_resource type="PackedScene" uid="uid://df5hynbooj1uj" path="res://addons/hand_pose_detector/hand_pose_detector.tscn" id="12_umuo0"]
[ext_resource type="PackedScene" uid="uid://b2447e5p6kwug" path="res://examples/room/scene_anchor.tscn" id="13_qa2o8"]
[ext_resource type="PackedScene" uid="uid://cukl4cie1tact" path="res://examples/room/scene_global_mesh.tscn" id="14_bmpu5"]

[sub_resource type="PlaneMesh" id="PlaneMesh_00q4b"]
size = Vector2(100, 100)

[sub_resource type="WorldBoundaryShape3D" id="WorldBoundaryShape3D_307sh"]

[sub_resource type="Environment" id="Environment_c4jos"]
background_mode = 1
ambient_light_source = 2
ambient_light_color = Color(1, 1, 1, 1)

[sub_resource type="BoxMesh" id="BoxMesh_ynx41"]
size = Vector3(0.1, 0.1, 0.1)

[sub_resource type="SphereShape3D" id="SphereShape3D_scstw"]
radius = 0.02

[sub_resource type="SphereMesh" id="SphereMesh_gynoj"]
radius = 0.02
height = 0.04

[sub_resource type="SphereShape3D" id="SphereShape3D_2di6e"]
radius = 0.1

[sub_resource type="SphereShape3D" id="SphereShape3D_kwcp0"]
radius = 0.05

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_j5v6i"]
radius = 0.05
height = 0.2

[node name="root" type="Node3D"]

[node name="start_passthrough" type="Node" parent="."]
script = ExtResource("1_fxfes")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.486978, -0.857167, -0.16768, -0.325568, -1.4231e-08, 0.945518, -0.810468, 0.515038, -0.279066, 0, 0, 0)

[node name="StaticBody3D" type="StaticBody3D" parent="."]

[node name="ground" type="MeshInstance3D" parent="StaticBody3D"]
visible = false
material_override = ExtResource("2_yos5m")
mesh = SubResource("PlaneMesh_00q4b")
skeleton = NodePath("../..")

[node name="CollisionShape3D" type="CollisionShape3D" parent="StaticBody3D"]
shape = SubResource("WorldBoundaryShape3D_307sh")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_c4jos")

[node name="OmniLight3D" type="OmniLight3D" parent="."]
transform = Transform3D(-0.220772, -0.975312, -0.00516406, 0.254535, -0.0627264, 0.965027, -0.941526, 0.211737, 0.2621, -4.2177, 1.84116, -4.5774)
light_energy = 16.0

[node name="start_stop" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.24979472, 0.707124, -0.24009693)

[node name="mesh" type="MeshInstance3D" parent="start_stop"]
mesh = SubResource("BoxMesh_ynx41")

[node name="CollisionShape3D" type="CollisionShape3D" parent="start_stop"]
shape = SubResource("SphereShape3D_scstw")

[node name="sequencer" type="Marker3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.6772518, 0.6735885, -0.6620455)
script = ExtResource("3_584sh")
font = ExtResource("4_27qf2")
pad_scene = ExtResource("5_shi5d")
steps = 16

[node name="Timer" type="Timer" parent="sequencer"]
wait_time = 0.2
autostart = true

[node name="timer_ball" type="MeshInstance3D" parent="sequencer"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.05, 0)
mesh = SubResource("SphereMesh_gynoj")
surface_material_override/0 = ExtResource("6_kspo4")

[node name="XROrigin3D" type="XROrigin3D" parent="."]

[node name="XRCamera3D" type="XRCamera3D" parent="XROrigin3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.10548, 0)
near = 0.001

[node name="AudioListener3D" type="AudioListener3D" parent="XROrigin3D/XRCamera3D"]

[node name="CharacterBody3D" type="CharacterBody3D" parent="XROrigin3D/XRCamera3D"]
motion_mode = 1

[node name="CollisionShape3D" type="CollisionShape3D" parent="XROrigin3D/XRCamera3D/CharacterBody3D"]
shape = SubResource("SphereShape3D_2di6e")

[node name="left" type="XRNode3D" parent="XROrigin3D"]
tracker = &"/user/hand_tracker/left"
show_when_tracked = true

[node name="HandPoseDetector" type="Node" parent="XROrigin3D/left"]
script = ExtResource("7_7yujg")
hand_pose_set = ExtResource("8_dcj50")

[node name="left_hand" type="Area3D" parent="XROrigin3D/left"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.0680579, 0.159387)

[node name="CollisionShape3D" type="CollisionShape3D" parent="XROrigin3D/left/left_hand"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.144068)
shape = SubResource("SphereShape3D_kwcp0")

[node name="LeftHandHumanoid2" parent="XROrigin3D/left" instance=ExtResource("9_wjjwd")]

[node name="LeftHandHumanoidMesh" parent="XROrigin3D/left/LeftHandHumanoid2/LeftHandHumanoid/Skeleton3D" index="0"]
surface_material_override/0 = ExtResource("10_5or6k")

[node name="XRHandModifier3D" type="XRHandModifier3D" parent="XROrigin3D/left/LeftHandHumanoid2/LeftHandHumanoid/Skeleton3D" index="1"]

[node name="collider" type="CharacterBody3D" parent="XROrigin3D/left"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="XROrigin3D/left/collider"]
shape = SubResource("CapsuleShape3D_j5v6i")

[node name="right" type="XRNode3D" parent="XROrigin3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.382027, 0, -0.143927)
tracker = &"/user/hand_tracker/right"
show_when_tracked = true

[node name="right_hand" type="Area3D" parent="XROrigin3D/right"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.0676188, 0.159387)

[node name="CollisionShape3D" type="CollisionShape3D" parent="XROrigin3D/right/right_hand"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.144068)
shape = SubResource("SphereShape3D_kwcp0")

[node name="RightHandHumanoid2" parent="XROrigin3D/right" instance=ExtResource("11_slhc5")]

[node name="XRHandModifier3D" type="XRHandModifier3D" parent="XROrigin3D/right/RightHandHumanoid2/RightHandHumanoid/Skeleton3D" index="0"]
hand_tracker = &"/user/hand_tracker/right"

[node name="RightHandHumanoidMesh" parent="XROrigin3D/right/RightHandHumanoid2/RightHandHumanoid/Skeleton3D" index="1"]
surface_material_override/0 = ExtResource("10_5or6k")

[node name="HandPoseDetector" parent="XROrigin3D/right" instance=ExtResource("12_umuo0")]
hand_tracker_name = "/user/hand_tracker/right"
hand_pose_set = ExtResource("8_dcj50")

[node name="collider" type="CharacterBody3D" parent="XROrigin3D/right"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="XROrigin3D/right/collider"]
shape = SubResource("CapsuleShape3D_j5v6i")

[node name="OpenXRFbSceneManager" type="OpenXRFbSceneManager" parent="XROrigin3D"]
default_scene = ExtResource("13_qa2o8")
scenes/global_mesh = ExtResource("14_bmpu5")

[connection signal="area_entered" from="start_stop" to="sequencer" method="_on_start_stop_area_entered"]
[connection signal="timeout" from="sequencer/Timer" to="sequencer" method="_on_timer_timeout"]
[connection signal="area_entered" from="XROrigin3D/left/left_hand" to="XROrigin3D/left" method="_on_right_hand_area_entered"]
[connection signal="area_entered" from="XROrigin3D/right/right_hand" to="XROrigin3D/right" method="_on_right_hand_area_entered"]
[connection signal="area_exited" from="XROrigin3D/right/right_hand" to="XROrigin3D/right" method="_on_right_hand_area_exited"]

[editable path="XROrigin3D/left/LeftHandHumanoid2"]
[editable path="XROrigin3D/right/RightHandHumanoid2"]
